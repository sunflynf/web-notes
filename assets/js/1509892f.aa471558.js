"use strict";(self.webpackChunkmy_web_notes=self.webpackChunkmy_web_notes||[]).push([[5685],{7800:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=s(4848),t=s(8453);const i={tags:["Environment","JavaScript","TypeScript","WebSocket"]},d="Node.js",l={id:"summarize/env/nodejs",title:"Node.js",description:"Introduce",source:"@site/docs/summarize/env/nodejs.md",sourceDirName:"summarize/env",slug:"/summarize/env/nodejs",permalink:"/web-notes/docs/summarize/env/nodejs",draft:!1,unlisted:!1,editUrl:"https://github.com/sunflynf/web-notes/tree/main/docs/summarize/env/nodejs.md",tags:[{inline:!0,label:"Environment",permalink:"/web-notes/docs/tags/environment"},{inline:!0,label:"JavaScript",permalink:"/web-notes/docs/tags/java-script"},{inline:!0,label:"TypeScript",permalink:"/web-notes/docs/tags/type-script"},{inline:!0,label:"WebSocket",permalink:"/web-notes/docs/tags/web-socket"}],version:"current",frontMatter:{tags:["Environment","JavaScript","TypeScript","WebSocket"]},sidebar:"documentSidebar",previous:{title:"Bun",permalink:"/web-notes/docs/summarize/env/bun"},next:{title:"Frontend",permalink:"/web-notes/docs/category/frontend"}},a={},c=[{value:"Introduce",id:"introduce",level:2},{value:"Modules",id:"modules",level:2},{value:"Built-in modules",id:"built-in-modules",level:2},{value:"HTTP",id:"http",level:3},{value:"Testing",id:"testing",level:3},{value:"Read &amp; Hash a file",id:"read--hash-a-file",level:3},{value:"Stream pipeline",id:"stream-pipeline",level:3},{value:"Threads",id:"threads",level:3},{value:"Resources",id:"resources",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"nodejs",children:"Node.js"}),"\n",(0,r.jsx)(n.h2,{id:"introduce",children:"Introduce"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Node.js is an open source server environment"}),"\n",(0,r.jsx)(n.li,{children:"Node.js uses JavaScript on the server"}),"\n",(0,r.jsx)(n.li,{children:"Node.js runs single-threaded, non-blocking, asynchronous programming"}),"\n",(0,r.jsxs)(n.li,{children:["Node.js can","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Generate dynamic page content"}),"\n",(0,r.jsx)(n.li,{children:"Create, open, read, write, delete, and close files on the server"}),"\n",(0,r.jsx)(n.li,{children:"Collect form data"}),"\n",(0,r.jsx)(n.li,{children:"Add, delete, modify data in database"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"npm"})," is the standard package manager for Node.js"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"> node --version\n> node file.js\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"> npm install <package-name><@version> <--save-dev>\n> npm i <package-name>@latest <-D>\n\n> npm update <package-name>\n> npm start\n> npm run <task-name>\n> npm run start-dev\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "start-dev": "node lib/server-development",\n    "start": "node lib/server-production"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"modules",children:"Modules"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// myFirstModule.js\nexports.myDateTime = function () {\n  return Date();\n};\n// { myDateTime: func }\n\n// other file\nconst dt = require('./myFirstModule');\nconsole.log(dt.myDateTime());\n"})}),"\n",(0,r.jsx)(n.h2,{id:"built-in-modules",children:"Built-in modules"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Modules"}),(0,r.jsx)(n.th,{children:"For"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"assert"})}),(0,r.jsx)(n.td,{children:"test"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"buffer"}),(0,r.jsx)(n.td,{children:"binary data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"child_processes"}),(0,r.jsx)(n.td,{children:"run a child processes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"cluster"}),(0,r.jsx)(n.td,{children:"split single Node process -> multiple"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"crypto"})}),(0,r.jsx)(n.td,{children:"handle OpenSSL cryptographic func"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"dns"}),(0,r.jsx)(n.td,{children:"DNS lookups & name resolution func"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"events"})}),(0,r.jsx)(n.td,{children:"assign and trigger events"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"fs"})}),(0,r.jsx)(n.td,{children:"handle file system"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"http"})}),(0,r.jsx)(n.td,{children:"Node.js act as an HTTP server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"https"})}),(0,r.jsx)(n.td,{children:"Node.js act as an HTTPS server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"net"})}),(0,r.jsx)(n.td,{children:"create servers & clients"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"os"})}),(0,r.jsx)(n.td,{children:"Provides information about operation system"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"path"})}),(0,r.jsx)(n.td,{children:"handle file path"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"querystring"}),(0,r.jsx)(n.td,{children:"handle URL query string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"readline"}),(0,r.jsx)(n.td,{children:"readable streams one line at the time"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"stream"})}),(0,r.jsx)(n.td,{children:"handle streaming data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"string_decoder"})}),(0,r.jsx)(n.td,{children:"decode buffer objects to strings"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"timers"})}),(0,r.jsx)(n.td,{children:"To execute a function after a given number of milliseconds"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"tls"}),(0,r.jsx)(n.td,{children:"implementing TLS (Transport Layer Security) and SSL (Secure Socket Layer)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"url"})}),(0,r.jsx)(n.td,{children:"parse URL strings"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"util"})}),(0,r.jsx)(n.td,{children:"utility functions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"vm"}),(0,r.jsxs)(n.td,{children:["compile js code in a virtual machine - like ",(0,r.jsx)(n.code,{children:"eval()"})," in js"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"zlib"}),(0,r.jsx)(n.td,{children:"compress or decompress files"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"http",children:"HTTP"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"var http = require('http');\nvar url = require('url');\n\nhttp.createServer(function (req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  var q = url.parse(req.url, true).query;\n  var txt = q.year + \" \" + q.month;\n  res.end(txt); // Add to body\n}).listen(8080);\n\n// http://localhost:8080/?year=2017&month=July -> \"2017 July\"\n"})}),"\n",(0,r.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mjs",children:"import assert from 'node:assert';\nimport test from 'node:test';\n\ntest('that 1 is equal 1', () => {\n  assert.strictEqual(1, 1);\n});\ntest('that throws as 1 is not equal 2', () => {\n  // throws an exception because 1 != 2\n  assert.strictEqual(1, 2);\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"read--hash-a-file",children:"Read & Hash a file"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mjs",children:"import { createHash } from 'node:crypto';\nimport { readFile } from 'node:fs/promises';\n\nconst hasher = createHash('sha1');\nhasher.setEncoding('hex');\n// ensure you have a `package.json` file for this test!\nhasher.write(await readFile('package.json'));\nhasher.end();\nconst fileHash = hasher.read();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"stream-pipeline",children:"Stream pipeline"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mjs",children:"import { pipeline } from 'node:stream/promises';\nimport { createReadStream, createWriteStream } from 'node:fs';\nimport { createGzip } from 'node:zlib';\n\n// ensure you have a `package.json` file for this test!\nawait pipeline // \ud83e\udd14\n(\n  createReadStream('package.json'),\n  createGzip(),\n  createWriteStream('package.json.gz')\n);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"threads",children:"Threads"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mjs",children:"import { Worker, isMainThread,\n  workerData, parentPort } from 'node:worker_threads';\n\nif (isMainThread) {\n  const data = 'some data';\n  const worker = new Worker(import.meta.filename, { workerData: data });\n  worker.on('message', msg => console.log('Reply from Thread:', msg));\n} else {\n  const source = workerData;\n  parentPort.postMessage(btoa(source.toUpperCase()));\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"resources",children:"Resources"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://nodejs.org/docs/latest-v20.x/api/index.html",children:"Node.js Documents (20.x)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.w3schools.com/nodejs/nodejs_get_started.asp",children:"w3schools - Node.js"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var r=s(6540);const t={},i=r.createContext(t);function d(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);